<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #ffffff;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            font-size: 20px;
        }
        header {
			background-color: #000000;
			color: #ecf0f1;
			text-align: center;
			padding: 2rem 0;
			position: relative;
			font-size: 36px;

		}
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px 0;
        }
        .blink {
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            50% { opacity: 0; }
        }

        /* Monospace Option */
        .monospace {
            font-family: 'Courier New', monospace;
        }

		header h1 {
			font-size: 2.5rem;
			margin-bottom: 0.5rem;
		}

        nav {
            background-color: #2c3e50;
            padding: 10px 0;
        }
        .nav-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            max-width: 2800px; /* Increased from 1000px */
            margin: 0 auto;
            flex-wrap: wrap;
        }
        .nav-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 20px;
            min-width: 0;
        }
        .left-group {
            flex: 3; /* Give more space to the left group */
        }
        .right-group {
            flex: 2; /* Give less space to the right group */
        }
        .nav-group h3 {
            color: #ecf0f1;
            margin: 0 0 10px 0;
            font-size: 0.9em;
            font-weight: normal;
            text-transform: uppercase;
            text-align: center;
        }
        nav ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            width: 100%; /* Ensure the ul takes full width of its container */
        }
        .left-group ul {
            justify-content: flex-end;
        }
        .right-group ul {
            justify-content: flex-start;
        }
        nav ul li {
            padding: 0 10px;
            position: relative;
            display: inline-block;
            margin-bottom: 5px;
        }
        nav ul li:not(:last-child)::after {
            content: '|';
            position: absolute;
            right: 0;
            color: rgba(255, 255, 255, 0.5);
        }
        nav ul li.no-separator::after {
            content: none;
        }
        nav ul li a {
            color: white;
            text-decoration: none;
            position: relative;
            white-space: nowrap;
        }
        nav ul li a::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            bottom: -2px;
            left: 0;
            background-color: white;
            visibility: hidden;
            transform: scaleX(0);
            transition: all 0.3s ease-in-out;
        }
        nav ul li a:hover::after {
            visibility: visible;
            transform: scaleX(1);
        }

        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                align-items: center;
            }
            .nav-group {
                margin: 10px 0;
                width: 100%;
            }
            .left-group, .right-group {
                flex: 1;
            }
            nav ul {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            nav ul li {
                margin: 5px 0;
            }
            nav ul li:not(:last-child)::after {
                content: none;
            }
        }

        .page-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 200vh; /* Double the height to allow scrolling */
            background: linear-gradient(45deg, #f3e5f5, #e8eaf6, #e3f2fd);
            z-index: -1;
        }
        .color-streak {
            position: absolute;
            width: 300vw;
            height: 200vh;
            transform: rotate(-45deg);
            left: -50%;
        }
        .color-streak:nth-child(1) {
            background-color: rgba(255, 87, 34, 0.2);
            top: 0;
        }
        .color-streak:nth-child(2) {
            background-color: rgba(76, 175, 80, 0.2);
            top: 50vh;
        }
        

        .main {
            max-width: 1400px; /* Adjust this value to your desired maximum width */
            margin-left: auto;
            margin-right: auto;
            padding: 20px;
            align-content: center;
            text-align: justify;
        }
        .home-button {
            position: fixed;
            top: 40px;
            left: 40px;
            z-index: 1000;
            background-color: #333;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            text-decoration: none;
            font-family: Arial, sans-serif;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        .home-button:hover {
            background-color: #555;
        }
        .smaller-font {
            font-size: 18px;
        }
        
    </style>
</head>
<body>
    <a href="index.html" class="home-button" aria-label="Home">Home</a>
    <header class="monospace">
        Miles Oram | Game Development Portfolio<span class="blink">_</span>
    </header>
    <title>Occlusion Culling Compute Shader Work</title>
	<nav>
		<div class="nav-container">
			<div class="nav-group left-group">
				<h3>Write-ups</h3>
				<ul class="smaller-font">
					<li><a href="index.html#multi-threaded-engine">Multi-Threaded Game Engine</a></li>
					<li class="no-separator"><a href="index.html#slay-the-spire-recreation">Slay the Spire:   Recreation</a></li>
					<li class="no-separator"><a href="index.html#slay-the-spire-ml-project">+ Machine Learning</a></li>
					<li><a href="index.html#slay-the-spire-custom">+ Custom Class</a></li>
					<li><a href="index.html#terrain-generation">Procedural Terrain Generation - UE</a></li>
					<li><a href="index.html#occlusion-culling">Occlusion Culling - Unity</a></li>
				</ul>
			</div>
			<div class="nav-group right-group">
				<h3>Video Demos</h3>
				<ul class="smaller-font">
					<li><a href="index.html#split-screen">Seamless Split-Screen - Unity</a></li>
					<li><a href="index.html#top-down-action">Top-Down Action - Unity</a></li>
					<li><a href="index.html#retro-games">Retro Games in a Day</a></li>
					<li><a href="index.html#old-projects">Old Projects - UE</a></li>
				</ul>
			</div>
		</div>
	</nav>
    <div class="page-background">
        <div class="color-streak"></div>
        <div class="color-streak"></div>
    </div>
    <div class="main">
    <h1>OCCLUSION CULLING - COMPUTE SHADER</h1>
        <p><strong>
            This is messy, unfinished and likely difficult to parse. 
            I would not recommend trying to read this, but it's here if you were nonetheless curious about some of the compute shader work for transparent renderers using Sidon Sequences.
        </strong></p>
        <p>
            The arrays at the start consist of precomputed lookup data and are formatted to pack the data as tightly as possible so as not to overflow the recommended static shader memory by Unity.
            Computing these arrays involved finding the longest sequence where the maximum N-combination sum was no greater than a certain number (I brute-forced this for my versions of Sidon Sequences but there are formal mathematical investigations into generating actual Sidon Sequences with fixed purposes).
            <br>
            Through careful bit manipulation of RGBA values, you can use these arrays as lookup tables for the individual values used to blend the current pixel.
            There were several efforts to optimise the process, like using predicates to avoid branching.
            <br>
            This a much more involved version of a much simpler shader which worked successfully for a lower number of transparent renderers seen through.
        </p>
        <img src="img/OcclusionCulling/computeShader.png">
    </div>
    <script>
		// Smooth scrolling for navigation links
		document.querySelectorAll('a[href^="#"]').forEach(anchor => {
			anchor.addEventListener('click', function (e) {
				e.preventDefault();
				document.querySelector(this.getAttribute('href')).scrollIntoView({
					behavior: 'smooth'
				});
			});
		});
	</script>
</body>
</html>